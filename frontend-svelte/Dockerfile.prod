# Our Node base image
FROM node:lts-alpine AS dev

# Copying the package files allows docker to cache node modules
# Installation will only run when dependencies changed
COPY package.json .
COPY package-lock.json .

RUN npm ci

RUN npm run build

CMD ["node", "build/index.js"]

# CMD ["npm","run", "dev", "--host"]