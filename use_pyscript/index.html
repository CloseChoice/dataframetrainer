

<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>My Todo</title>

  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  </head>

  <body>
    <py-config>
      packages = ["pandas"]
    </py-config>

    <py-script>
      import pandas as pd
      import pandas.testing as tm

      df_test = pd.DataFrame([[4, 20, 30], [5, 1, 3]])
      expected_test = pd.DataFrame([[400, 20, 30], [500, 1, 3]])
      def test_transform(df):
        try:
          print(transform(df))
          print(expected_test)
          tm.assert_frame_equal(transform(df), expected_test)
          print('ok')
        except AssertionError:
          print('failed')
    </py-script>

    <py-repl>
      import pandas as pd

      # change this function so that 
      # it fulfills the testcase below in a generic fashion, it will be
      # tested against multiple similar testcases with different values in the columns, etc.
      def transform(df: pd.DataFrame):
         return df

      import pandas.testing as tm
      df = pd.DataFrame([[1, 2], [3, 4]])
      result = transform(df)
      expected = pd.DataFrame([[100, 2], [300, 4]])
      tm.assert_frame_equal(result, expected)
    </py-repl>
    <section>
      <div>
        <button id="new-task-btn" class="py-button" type="submit" py-click="test_transform(df_test.copy(deep=True))">
        Check Result
        </button>
      </div>
    </section>
  </body>
</html>
